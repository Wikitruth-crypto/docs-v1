"use strict";(globalThis.webpackChunkwikitruth_docs=globalThis.webpackChunkwikitruth_docs||[]).push([[238],{2437(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/status-period-cbb276aa067a3d486e5dae0a21fd2214.svg"},4399(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var i=n(4848),s=n(8453);const r={title:"Status Mechanism",description:"Truth Box lifecycle status, parameter comparison, and timeout rules.",sidebar:{order:9}},d=void 0,a={id:"status-mechanism",title:"Status Mechanism",description:"Truth Box lifecycle status, parameter comparison, and timeout rules.",source:"@site/docs/status-mechanism.md",sourceDirName:".",slug:"/status-mechanism",permalink:"/docs/status-mechanism",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Status Mechanism",description:"Truth Box lifecycle status, parameter comparison, and timeout rules.",sidebar:{order:9}},sidebar:"docs",previous:{title:"Truth Box",permalink:"/docs/truth-box"},next:{title:"Minting Process",permalink:"/docs/create-process"}},l={},c=[{value:"Truth Box State Machine Detailed",id:"truth-box-state-machine-detailed",level:3},{value:"Status Flowchart",id:"status-flowchart",level:3},{value:"Status Duration",id:"status-duration",level:3},{value:"Time Parameters (Mainnet/Testnet Comparison)",id:"time-parameters-mainnettestnet-comparison",level:4}];function o(e){const t={blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h3,{id:"truth-box-state-machine-detailed",children:"Truth Box State Machine Detailed"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-solidity",children:"enum Status(\n  Storing,\n  Selling,\n  Auctioning,\n  Paid,\n  Refunding,\n  InSecrecy,\n  Published,\n  Blacklisted\n)\n"})}),"\n",(0,i.jsx)(t.p,{children:"A Truth Box will go through the following states, all strictly defined by the contract:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Storing"}),": Initial state after minting via ",(0,i.jsx)(t.code,{children:"create"})," method."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Selling"}),": Being sold at a fixed price."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Auctioning"}),": Being auctioned; each bid extends the deadline."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Paid"}),": Buyer has paid; enters refund application period."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Refunding"}),": Refund arbitration period; Minter/DAO can process refunds."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"InSecrecy"}),": Enters confidentiality period after transaction completion; can pay confidentiality fee to extend."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Published"}),": Content is public; anyone can read confidential data. Or minted using ",(0,i.jsx)(t.code,{children:"createAndPublish"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Blacklisted"}),": DAO banned state; transactions frozen and refund/destruction triggered."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"status-flowchart",children:"Status Flowchart"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Status Flowchart",src:n(4529).A+"",width:"1280",height:"720"})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["When minting, you can choose Store (default) or directly Publish (",(0,i.jsx)(t.code,{children:"createAndPublish"}),")."]}),"\n",(0,i.jsx)(t.li,{children:"Only Boxes in Storing state can be Sold or Auctioned."}),"\n",(0,i.jsx)(t.li,{children:"Selling/Auctioning will turn to Published if no one buys upon expiration."}),"\n",(0,i.jsx)(t.li,{children:"Selling enters Paid if there is a buyer; Auctioning needs to wait for the deadline to pass before turning to Paid."}),"\n",(0,i.jsx)(t.li,{children:"In Paid state, the buyer can apply for a refund to enter Refunding, or complete the order to enter InSecrecy."}),"\n",(0,i.jsx)(t.li,{children:"During InSecrecy, confidentiality fees must be paid to extend; it automatically turns to Published upon expiration."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"status-duration",children:"Status Duration"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Status Period",src:n(2437).A+"",width:"1280",height:"720"})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Storing: Initial 365 days, can only be extended within 30 days before expiration, max 365 days per time."}),"\n",(0,i.jsx)(t.li,{children:"Selling: Fixed 365 days listing cycle."}),"\n",(0,i.jsx)(t.li,{children:"Auctioning: Initial 30 days, reset to 30 days with each bid."}),"\n",(0,i.jsx)(t.li,{children:"Refund Application Period: Default 7 days; cannot apply if timed out, and others can complete the order."}),"\n",(0,i.jsx)(t.li,{children:"Refund Review Period: Default 30 days; anyone can agree to refund if timed out."}),"\n",(0,i.jsx)(t.li,{children:"InSecrecy: Initial 365 days; each confidentiality fee payment extends 365 days."}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"time-parameters-mainnettestnet-comparison",children:"Time Parameters (Mainnet/Testnet Comparison)"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Oasis Sapphire"}),(0,i.jsx)(t.th,{children:"Oasis Sapphire Testnet"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Storing Initial Protection Period"}),(0,i.jsx)(t.td,{children:"365 days"}),(0,i.jsx)(t.td,{children:"15 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Extension Window"}),(0,i.jsx)(t.td,{children:"Within 30 days"}),(0,i.jsx)(t.td,{children:"Within 3 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Extension Per Time"}),(0,i.jsx)(t.td,{children:"365 days"}),(0,i.jsx)(t.td,{children:"15 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Selling Listing Cycle"}),(0,i.jsx)(t.td,{children:"365 days"}),(0,i.jsx)(t.td,{children:"15 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Auctioning Listing Cycle"}),(0,i.jsx)(t.td,{children:"30 days"}),(0,i.jsx)(t.td,{children:"3 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"InSecrecy Confidentiality Period"}),(0,i.jsx)(t.td,{children:"365 days"}),(0,i.jsx)(t.td,{children:"15 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Request Refund Period"}),(0,i.jsx)(t.td,{children:"7\u201315 days"}),(0,i.jsx)(t.td,{children:"7 days"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Refund Review Period"}),(0,i.jsx)(t.td,{children:"15\u201360 days"}),(0,i.jsx)(t.td,{children:"15 days"})]})]})]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"Some parameters can be adjusted through DAO governance."}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},4529(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/status-process-f87b799799bcc05a91846f70eedac5f2.svg"},8453(e,t,n){n.d(t,{R:()=>d,x:()=>a});var i=n(6540);const s={},r=i.createContext(s);function d(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);