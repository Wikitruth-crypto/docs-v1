"use strict";(globalThis.webpackChunkwikitruth_docs=globalThis.webpackChunkwikitruth_docs||[]).push([[132],{7485(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=t(4848),i=t(8453);const s={title:"Privacy Token",description:"ERC20Secret/WROSEsecret privacy balance on Sapphire and EIP-712 authorization process.",sidebar:{order:6}},c=void 0,a={id:"secret-token",title:"Privacy Token",description:"ERC20Secret/WROSEsecret privacy balance on Sapphire and EIP-712 authorization process.",source:"@site/docs/secret-token.md",sourceDirName:".",slug:"/secret-token",permalink:"/docs/secret-token",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Privacy Token",description:"ERC20Secret/WROSEsecret privacy balance on Sapphire and EIP-712 authorization process.",sidebar:{order:6}},sidebar:"docs",previous:{title:"Smart Contract Architecture",permalink:"/docs/smart-contracts"},next:{title:"Security and Trust",permalink:"/docs/security"}},o={},d=[{value:"Privacy Token",id:"privacy-token",level:3},{value:"Network and Contract Deployment (Mainnet/Testnet)",id:"network-and-contract-deployment-mainnettestnet",level:4},{value:"EIP-712 Key Structure Example",id:"eip-712-key-structure-example",level:4}];function l(e){const n={blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"privacy-token",children:"Privacy Token"}),"\n",(0,r.jsxs)(n.p,{children:["The project uses a general ",(0,r.jsx)(n.code,{children:"ERC20Secret"})," contract developed based on the Oasis Sapphire privacy library to achieve encrypted balances and private transfers, and provides a signature authorization interface based on ",(0,r.jsx)(n.strong,{children:"EIP-712"})," to complete token transactions without leaving traces on-chain."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Balance Privacy"}),": The contract internally encrypts and stores balances, and ordinary queries only return data visible to the user themselves."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Signature Authorization"}),": Supports VIEW / TRANSFER / APPROVE permissions based on EIP-712, avoiding exposure of sensitive authorization details on-chain."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No Event Logs"}),": Does not record event logs, avoiding leaving token transaction traces on-chain."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Anti-Replay"}),": Signature uniqueness verification and expiration time limit prevent reuse."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Wrap/Unwrap"}),": Can wrap/unwrap with basic ERC20, compatible with external liquidity. Native tokens like sapphire testnet (TEST) can directly use deposit/withdraw interfaces."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["After deploying the ",(0,r.jsx)(n.code,{children:"ERC20Secret"})," contract, use the ",(0,r.jsx)(n.code,{children:"wrap"})," and ",(0,r.jsx)(n.code,{children:"unwrap"})," interfaces to wrap ",(0,r.jsx)(n.code,{children:"ERC20"})," tokens into ",(0,r.jsx)(n.code,{children:"ERC20Secret"})," tokens to achieve the minting of privacy tokens."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Note: Each ERC20Secret token can only correspond to one ERC20 token."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"network-and-contract-deployment-mainnettestnet",children:"Network and Contract Deployment (Mainnet/Testnet)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WTRC"}),": The token of the WikiTruth project."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WTRC.S"}),": The ",(0,r.jsx)(n.code,{children:"ERC20Secret"})," token of WTRC."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"wROSE.S"}),": The ",(0,r.jsx)(n.code,{children:"ERC20Secret"})," token of wROSE."]}),"\n"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Item"}),(0,r.jsx)(n.th,{children:"Mainnet"}),(0,r.jsx)(n.th,{children:"Testnet"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Network Name"}),(0,r.jsx)(n.td,{children:"Oasis Sapphire"}),(0,r.jsx)(n.td,{children:"Oasis Sapphire Testnet"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Chain ID"}),(0,r.jsx)(n.td,{children:"23294"}),(0,r.jsx)(n.td,{children:"23295"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WTRC"}),(0,r.jsx)(n.td,{children:"TBD"}),(0,r.jsx)(n.td,{children:"0x990DE401CD0103a0107D27F82283db60F4844203"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WTRC.S"}),(0,r.jsx)(n.td,{children:"TBD"}),(0,r.jsx)(n.td,{children:"0x449e2CD61F0328Ae68f4A530170C892B45b4B269"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"wROSE.S"}),(0,r.jsx)(n.td,{children:"TBD"}),(0,r.jsx)(n.td,{children:"0x4e30337908E19917f3F74adB45966114A55205c2"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"eip-712-key-structure-example",children:"EIP-712 Key Structure Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:'// EIP-712 domain parameters\nbytes32 private constant EIP712_DOMAIN_TYPEHASH = keccak256(\n    "EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)"\n);\nbytes32 public immutable DOMAIN_SEPARATOR;\n\nbytes32 public constant EIP_PERMIT_TYPEHASH = keccak256(\n    "EIP712Permit(uint8 label,address owner,address spender,uint256 amount,uint256 deadline)"\n);\n\nenum PermitLabel { VIEW, TRANSFER, APPROVE }\n\nstruct EIP712Permit {\n    PermitLabel label;\n    address owner;\n    address spender;\n    uint256 amount;\n    uint256 deadline;\n    SignatureRSV signature;\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453(e,n,t){t.d(n,{R:()=>c,x:()=>a});var r=t(6540);const i={},s=r.createContext(i);function c(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);